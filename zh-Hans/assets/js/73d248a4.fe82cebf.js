"use strict";(self.webpackChunkwukong_deploy_website=self.webpackChunkwukong_deploy_website||[]).push([[5808],{2961:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"best-practices/project-structure","title":"\u9879\u76ee\u7ed3\u6784","description":"\u4e00\u4e2a\u826f\u597d\u7684\u9879\u76ee\u7ed3\u6784\u5bf9\u4e8e\u9ad8\u6548\u7684\u90e8\u7f72\u81f3\u5173\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u63a8\u8350\u7684\u9879\u76ee\u7ed3\u6784\uff1a","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/best-practices/project-structure.md","sourceDirName":"best-practices","slug":"/best-practices/project-structure","permalink":"/wukong-deploy/zh-Hans/docs/best-practices/project-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/tomatobybike/wukong-deploy/tree/main/wukong-deploy-website/docs/best-practices/project-structure.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u9519\u8bef\u5904\u7406","permalink":"/wukong-deploy/zh-Hans/docs/advanced/error-handling"},"next":{"title":"\u4f7f\u7528\u5b9e\u4f8b","permalink":"/wukong-deploy/zh-Hans/docs/examples/use-cases"}}');var t=s(4848),i=s(8453);const c={sidebar_position:1},l="\u9879\u76ee\u7ed3\u6784",o={},d=[{value:"\u914d\u7f6e\u6587\u4ef6\u7ec4\u7ec7",id:"\u914d\u7f6e\u6587\u4ef6\u7ec4\u7ec7",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e00\u4e2a\u826f\u597d\u7684\u9879\u76ee\u7ed3\u6784\u5bf9\u4e8e\u9ad8\u6548\u7684\u90e8\u7f72\u81f3\u5173\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u63a8\u8350\u7684\u9879\u76ee\u7ed3\u6784\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"project-root/\n\u251c\u2500\u2500 wukong.config.js       # \u4e3b\u914d\u7f6e\u6587\u4ef6\n\u251c\u2500\u2500 .env                   # \u73af\u5883\u53d8\u91cf\u6587\u4ef6\n\u251c\u2500\u2500 scripts/              # \u90e8\u7f72\u811a\u672c\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 pre-deploy.sh     # \u90e8\u7f72\u524d\u811a\u672c\n\u2502   \u2514\u2500\u2500 post-deploy.sh    # \u90e8\u7f72\u540e\u811a\u672c\n\u2514\u2500\u2500 package.json          # \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u914d\u7f6e\u6587\u4ef6\u7ec4\u7ec7",children:"\u914d\u7f6e\u6587\u4ef6\u7ec4\u7ec7"}),"\n",(0,t.jsx)(e.p,{children:"\u6211\u4eec\u5efa\u8bae\u6309\u73af\u5883\u7ec4\u7ec7\u914d\u7f6e\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"export default {\n  // \u5168\u5c40\u8bbe\u7f6e\n  defaults: {\n    username: 'deploy',\n    privateKey: '~/.ssh/id_rsa',\n  },\n\n  // \u73af\u5883\u7279\u5b9a\u914d\u7f6e\n  environments: {\n    production: {\n      servers: [\n        {\n          host: 'prod-server-1',\n          commands: [/* ... */]\n        }\n      ]\n    },\n    staging: {\n      servers: [\n        {\n          host: 'staging-server',\n          commands: [/* ... */]\n        }\n      ]\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u4f7f\u7528\u73af\u5883\u53d8\u91cf"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5c06\u654f\u611f\u4fe1\u606f\u5b58\u50a8\u5728 ",(0,t.jsx)(e.code,{children:".env"})," \u6587\u4ef6\u4e2d"]}),"\n",(0,t.jsxs)(e.li,{children:["\u4e3a\u4e0d\u540c\u73af\u5883\u7ef4\u62a4\u4e0d\u540c\u7684 ",(0,t.jsx)(e.code,{children:".env"})," \u6587\u4ef6"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u547d\u4ee4\u7ec4\u7ec7"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5c06\u76f8\u5173\u547d\u4ee4\u7ec4\u7ec7\u5728\u4e00\u8d77"}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u63cf\u8ff0\u6027\u6ce8\u91ca"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u811a\u672c\u7ec4\u7ec7"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5c06\u90e8\u7f72\u811a\u672c\u653e\u5728\u4e13\u95e8\u7684\u76ee\u5f55\u4e2d"}),"\n",(0,t.jsx)(e.li,{children:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u547d\u540d\u89c4\u8303"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u7248\u672c\u63a7\u5236"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u5728\u7248\u672c\u63a7\u5236\u4e2d\u5305\u542b\u914d\u7f6e\u6a21\u677f"}),"\n",(0,t.jsxs)(e.li,{children:["\u6392\u9664\u654f\u611f\u6587\u4ef6\uff08\u5982 ",(0,t.jsx)(e.code,{children:".env"}),"\uff09"]}),"\n"]}),"\n"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function c(n){const e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);