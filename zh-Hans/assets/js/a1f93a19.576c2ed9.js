"use strict";(self.webpackChunkwukong_deploy_website=self.webpackChunkwukong_deploy_website||[]).push([[5760],{979:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"advanced/error-handling","title":"Error Handling","description":"wukong-deploy provides a flexible error handling mechanism to help you manage issues that may occur during the deployment process.","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/advanced/error-handling.md","sourceDirName":"advanced","slug":"/advanced/error-handling","permalink":"/wukong-deploy/zh-Hans/docs/advanced/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/tomatobybike/wukong-deploy/tree/main/wukong-deploy-website/docs/advanced/error-handling.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Multi-Server Deployment","permalink":"/wukong-deploy/zh-Hans/docs/advanced/multi-server"},"next":{"title":"Project Structure","permalink":"/wukong-deploy/zh-Hans/docs/best-practices/project-structure"}}');var t=n(4848),o=n(8453);const a={sidebar_position:2},d="Error Handling",s={},l=[{value:"Error Handling Configuration",id:"error-handling-configuration",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"exitOnStdErr",id:"exitonstderr",level:3},{value:"errorMatch",id:"errormatch",level:3},{value:"Error Handling Examples",id:"error-handling-examples",level:2},{value:"1. NPM Build Error Handling",id:"1-npm-build-error-handling",level:3},{value:"2. Git Operation Error Handling",id:"2-git-operation-error-handling",level:3},{value:"3. Database Operation Error Handling",id:"3-database-operation-error-handling",level:3},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"wukong-deploy"})," provides a flexible error handling mechanism to help you manage issues that may occur during the deployment process."]}),"\n",(0,t.jsx)(r.h2,{id:"error-handling-configuration",children:"Error Handling Configuration"}),"\n",(0,t.jsx)(r.p,{children:"Each command can define its own error handling strategy:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'{\n  cmd: "npm run build",\n  description: "Build project",\n  exitOnStdErr: false,    // Whether to exit when an error occurs\n  errorMatch: [           // Error matching patterns\n    /Error:/i,\n    /Failed to compile/i\n  ]\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsx)(r.h3,{id:"exitonstderr",children:"exitOnStdErr"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"true"}),": Any content written to ",(0,t.jsx)(r.code,{children:"stderr"})," will be treated as an error"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"false"}),": Allows content to be written to ",(0,t.jsx)(r.code,{children:"stderr"}),", used together with ",(0,t.jsx)(r.code,{children:"errorMatch"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"errormatch",children:"errorMatch"}),"\n",(0,t.jsx)(r.p,{children:"Supports either a single string/regex or an array of regex patterns:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:"errorMatch: /Error:/; // Single regular expression\nerrorMatch: [\n  // Array of regular expressions\n  /Error:/i,\n  /Failed/i,\n  /Exception/i,\n];\n"})}),"\n",(0,t.jsx)(r.h2,{id:"error-handling-examples",children:"Error Handling Examples"}),"\n",(0,t.jsx)(r.h3,{id:"1-npm-build-error-handling",children:"1. NPM Build Error Handling"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'{\n  cmd: "npm run build",\n  description: "Build project",\n  exitOnStdErr: false,\n  errorMatch: [\n    /Failed to compile/,\n    /Error in/,\n    /Module not found/\n  ]\n}\n'})}),"\n",(0,t.jsx)(r.h3,{id:"2-git-operation-error-handling",children:"2. Git Operation Error Handling"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'{\n  cmd: "git pull",\n  description: "Update source code",\n  exitOnStdErr: false,\n  errorMatch: [\n    /Authentication failed/,\n    /Merge conflict/,\n    /Please commit your changes/\n  ]\n}\n'})}),"\n",(0,t.jsx)(r.h3,{id:"3-database-operation-error-handling",children:"3. Database Operation Error Handling"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-javascript",children:'{\n  cmd: "npm run migrate",\n  description: "Database migration",\n  exitOnStdErr: false,\n  errorMatch: [\n    /Connection refused/,\n    /Duplicate entry/,\n    /Access denied/\n  ]\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"Define specific error matching patterns for each command"}),"\n",(0,t.jsxs)(r.li,{children:["Set ",(0,t.jsx)(r.code,{children:"exitOnStdErr: false"})," for non-critical commands"]}),"\n",(0,t.jsx)(r.li,{children:"Use regular expressions to match common error messages"}),"\n",(0,t.jsx)(r.li,{children:"Add clear and descriptive error messages for better debugging"}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>d});var i=n(6540);const t={},o=i.createContext(t);function a(e){const r=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(o.Provider,{value:r},e.children)}}}]);